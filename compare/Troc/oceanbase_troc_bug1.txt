其他原因④ 4
-BUG 0 似乎是BUG，事务1的1-3查询不应该是空集;确认是BUG,数据库状态是
+-----------+
| c0        |
+-----------+
| Et&oBS?^4 |
| Et&oBS?^4 |
| Et&oBS?^4 |
| Et&oBS?^4 |
| Et&oBS?^4 |
| Et&oBS?^4 |
| Et&oBS?^4 |
| Et&oBS?^4 |
| Et&oBS?^4 |
+-----------+
但是1-3查了空集

02/11 13:24:23.048 INFO troc.TrocChecker main: Check new schedule.
02/11 13:24:32.793 INFO troc.TrocChecker main: txp: 2, all case: 15, skip: 0
02/11 13:24:32.793 INFO troc.TrocChecker main: Error: Inconsistent query result
02/11 13:24:32.793 INFO troc.TrocChecker main: query: SELECT c0 FROM t WHERE c0
02/11 13:24:32.794 INFO troc.TrocChecker main: =============================BUG REPORT
 -- Create Table SQL: CREATE TABLE t(c0 VARCHAR(9) NOT NULL) COMMENT = 'comment info'
 -- InitializeStatements:
	INSERT INTO t(c0) VALUES ("");
	CREATE INDEX i0 ON t (c0(5));
	INSERT IGNORE INTO t(c0) VALUES ("]X16n");
	INSERT IGNORE INTO t(c0) VALUES ("n");
	INSERT INTO t(c0) VALUES ("n");
	INSERT IGNORE INTO t(c0) VALUES ("");
	INSERT INTO t(c0) VALUES ("7");
	INSERT INTO t(c0) VALUES ("rZ");
	INSERT IGNORE INTO t(c0) VALUES ("?0?");
	INSERT IGNORE INTO t(c0) VALUES ("7x?qUo");
 -- Initial Table: 
View{
	1:[]
	2:[]X16n]
	3:[n]
	4:[n]
	5:[]
	6:[7]
	7:[rZ]
	8:[?0?]
	9:[7x?qUo]
}

 -- Tx1: Transaction{1, REPEATABLE_READ}, with statements:
	BEGIN;
	SELECT c0 FROM t WHERE (c0) < (c0) FOR UPDATE;
	UPDATE t SET c0="N" WHERE (NULL) XOR (c0);
	SELECT c0 FROM t WHERE c0;
	SELECT c0 FROM t WHERE CAST((+(((NULL)IS NULL) % (c0))) AS FLOAT);
	COMMIT;

 -- Tx2: Transaction{2, REPEATABLE_READ}, with statements:
	BEGIN;
	UPDATE t SET c0="Et&oBS?^4" WHERE -1084599047;
	SELECT c0 FROM t WHERE (c0)IS TRUE;
	SELECT c0 FROM t WHERE (NOT(-1148053179)) << (1881314059) FOR UPDATE;
	COMMIT;

 -- Input Schedule: 2-2-2-1-2-2-1-1-1-1-1
 -- Submitted Order: [2-0, 2-1, 2-2, 1-0, 2-3, 2-4, 1-1, 1-2, 1-3, 1-4, 1-5]
 -- Execution Result: Result:
Order:[2-0, 2-1, 2-2, 1-0, 2-3, 2-4, 1-1, 1-2, 1-3, 1-4, 1-5]
Query Results:
	2-0: null
	2-1: null
	2-2: []
	1-0: null
	2-3: []
	2-4: null
	1-1: []
	1-2: null
	1-3: []
	1-4: []
	1-5: null
FinalState: [Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4]
DeadBlock: false

 -- Inferred Result: Result:
Order:[2-0, 2-1, 2-2, 1-0, 2-3, 2-4, 1-1, 1-2, 1-3, 1-4, 1-5]
Query Results:
	2-0: null
	2-1: null
	2-2: []
	1-0: null
	2-3: []
	2-4: null
	1-1: []
	1-2: null
	1-3: [7, 7x?qUo]
	1-4: [7, 7x?qUo]
	1-5: null
FinalState: [Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4, Et&oBS?^4]
DeadBlock: false


因快照点创建位置有误导致的误报③ 12
-BUG 1 分析有误，事务1的1-3快照点不对
02/12 11:15:30.596 INFO troc.TrocChecker main: Check new schedule.
02/12 11:15:32.842 INFO troc.TxnPairExecutor Thread-603: 1-1: time out
02/12 11:15:41.431 INFO troc.TrocChecker main: txp: 21, all case: 202, skip: 0
02/12 11:15:41.431 INFO troc.TrocChecker main: Error: Inconsistent query result
02/12 11:15:41.431 INFO troc.TrocChecker main: query: SELECT c0 FROM t WHERE (c0) BETWEEN (((NOT(c0)) OR ("-^*o0?mz.")) >> (-322211780)) AND (1269065544)
02/12 11:15:41.432 INFO troc.TrocChecker main: =============================BUG REPORT
 -- Create Table SQL: CREATE TABLE t(c0 TEXT) COMMENT = 'comment info', AUTO_INCREMENT = 5685717521175973123
 -- InitializeStatements:
	INSERT IGNORE INTO t(c0) VALUES ("?b");
	INSERT INTO t(c0) VALUES ("0.6206657566544815");
	INSERT INTO t(c0) VALUES ("Gl");
	INSERT IGNORE INTO t(c0) VALUES ("fWfJMk??4");
	INSERT IGNORE INTO t(c0) VALUES ("KJ]D2I~7");
	INSERT IGNORE INTO t(c0) VALUES ("");
	INSERT INTO t(c0) VALUES ("-2116671693");
	INSERT INTO t(c0) VALUES ("ITSsb2O0W");
	INSERT INTO t(c0) VALUES ("VK");
	INSERT INTO t(c0) VALUES (" y6La");
 -- Initial Table: 
View{
	1:[?b]
	2:[0.6206657566544815]
	3:[Gl]
	4:[fWfJMk??4]
	5:[KJ]D2I~7]
	6:[]
	7:[-2116671693]
	8:[ITSsb2O0W]
	9:[VK]
	10:[ y6La]
}

 -- Tx1: Transaction{1, REPEATABLE_READ}, with statements:
	BEGIN;
	SELECT c0 FROM t WHERE 0.41976447579730747 FOR UPDATE;
	SELECT c0 FROM t WHERE -2.069880966E9 FOR UPDATE;
	SELECT c0 FROM t WHERE (c0) BETWEEN (((NOT(c0)) OR ("-^*o0?mz.")) >> (-322211780)) AND (1269065544);
	SELECT c0 FROM t WHERE NOT (+((-884846889) IN ((0), (c0)))) FOR UPDATE;
	COMMIT;

 -- Tx2: Transaction{2, REPEATABLE_READ}, with statements:
	BEGIN;
	SELECT c0 FROM t WHERE NOT (((0.1297048198582147) + (c0)) <= (c0)) FOR UPDATE;
	SELECT c0 FROM t WHERE c0;
	INSERT INTO t(c0) VALUES ("3JJV5qKID");
	COMMIT;

 -- Input Schedule: 2-2-1-2-1-1-2-1-1-1-2
 -- Submitted Order: [2-0, 2-1, 1-0, 2-2, 1-1, 1-2, 2-3, 1-3, 1-4, 1-5, 2-4]
 -- Execution Result: Result:
Order:[2-0, 2-1, 1-0, 2-2, 1-1(B), 2-3, 2-4, 1-1, 1-2, 1-3, 1-4, 1-5]
Query Results:
	2-0: null
	2-1: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La]
	1-0: null
	2-2: [0.6206657566544815, -2116671693]
	1-1: null
	2-3: null
	2-4: null
	1-1: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La, 3JJV5qKID]
	1-2: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La, 3JJV5qKID]
	1-3: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , ITSsb2O0W, VK,  y6La, 3JJV5qKID]
	1-4: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La, 3JJV5qKID]
	1-5: null
FinalState: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La, 3JJV5qKID]
DeadBlock: false

 -- Inferred Result: Result:
Order:[2-0, 2-1, 1-0, 2-2, 1-1(B), 2-3, 2-4, 1-1, 1-2, 1-3, 1-4, 1-5]
Query Results:
	2-0: null
	2-1: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La]
	1-0: null
	2-2: [0.6206657566544815, -2116671693]
	1-1: null
	2-3: null
	2-4: null
	1-1: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La, 3JJV5qKID]
	1-2: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La, 3JJV5qKID]
	1-3: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , ITSsb2O0W, VK,  y6La]
	1-4: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La, 3JJV5qKID]
	1-5: null
FinalState: [?b, 0.6206657566544815, Gl, fWfJMk??4, KJ]D2I~7, , -2116671693, ITSsb2O0W, VK,  y6La, 3JJV5qKID]
DeadBlock: false


其他原因④ 5
-BUG 2 分析有误，事务2的2-1的INSERT应该是在后面插入
02/12 12:06:54.357 INFO troc.TrocChecker main: Check new schedule.
02/12 12:06:56.595 INFO troc.TxnPairExecutor Thread-1401: 1-1: time out
02/12 12:07:06.349 INFO troc.TrocChecker main: txp: 47, all case: 468, skip: 10
02/12 12:07:06.349 INFO troc.TrocChecker main: Error: Inconsistent query result
02/12 12:07:06.349 INFO troc.TrocChecker main: query: SELECT c1, c2 FROM t WHERE (c1) <= (c0)
02/12 12:07:06.349 INFO troc.TrocChecker main: =============================BUG REPORT
 -- Create Table SQL: CREATE TABLE t(c0 CHAR(8), c1 INT, c2 INT UNIQUE NOT NULL) 
 -- InitializeStatements:
	INSERT INTO t(c0, c2) VALUES ("59375836", -1547190498);
	INSERT INTO t(c1, c2) VALUES (-1577200162, -1900842932);
	CREATE INDEX i0 ON t (c0(5));
	INSERT INTO t(c0, c1, c2) VALUES (".", 30386230, 932541340);
	INSERT INTO t(c0, c1, c2) VALUES (">", -1865459912, -1674610345);
	INSERT INTO t(c0, c1, c2) VALUES ("12145471", -251161528, 1471040259);
	INSERT INTO t(c0, c1, c2) VALUES ("A?", 1441145265, -1086616634);
	INSERT INTO t(c0, c1, c2) VALUES ("a", 952128077, 781481182);
 -- Initial Table: 
View{
	1:[59375836, null, -1547190498]
	2:[null, -1577200162, -1900842932]
	3:[., 30386230, 932541340]
	4:[>, -1865459912, -1674610345]
	5:[12145471, -251161528, 1471040259]
	6:[A?, 1441145265, -1086616634]
	7:[a, 952128077, 781481182]
}

 -- Tx1: Transaction{1, REPEATABLE_READ}, with statements:
	BEGIN;
	SELECT c0 FROM t WHERE c1 FOR UPDATE;
	SELECT c1, c2 FROM t WHERE (c1) <= (c0);
	UPDATE t SET c2=-1836622469 WHERE NULL;
	SELECT c1 FROM t WHERE c2;
	COMMIT;

 -- Tx2: Transaction{2, READ_COMMITTED}, with statements:
	BEGIN;
	INSERT IGNORE INTO t(c0, c1, c2) VALUES ("g?V", -1350893450, -1568507770);
	SELECT c0, c1, c2 FROM t WHERE c2 FOR UPDATE;
	SELECT c1 FROM t WHERE (0.2292827048320779) <= (c0);
	SELECT c0, c1, c2 FROM t WHERE -9.45798824E8;
	COMMIT;

 -- Input Schedule: 2-2-1-2-2-1-2-1-2-1-1-1
 -- Submitted Order: [2-0, 2-1, 1-0, 2-2, 2-3, 1-1, 2-4, 1-2, 2-5, 1-3, 1-4, 1-5]
 -- Execution Result: Result:
Order:[2-0, 2-1, 1-0, 2-2, 2-3, 1-1(B), 2-4, 2-5, 1-1, 1-2, 1-3, 1-4, 1-5]
Query Results:
	2-0: null
	2-1: null
	1-0: null
	2-2: [59375836, null, -1547190498, null, -1577200162, -1900842932, ., 30386230, 932541340, >, -1865459912, -1674610345, 12145471, -251161528, 1471040259, A?, 1441145265, -1086616634, a, 952128077, 781481182, g?V, -1350893450, -1568507770]
	2-3: [null, -251161528]
	1-1: null
	2-4: [59375836, null, -1547190498, null, -1577200162, -1900842932, ., 30386230, 932541340, >, -1865459912, -1674610345, 12145471, -251161528, 1471040259, A?, 1441145265, -1086616634, a, 952128077, 781481182, g?V, -1350893450, -1568507770]
	2-5: null
	1-1: [null, ., >, 12145471, A?, a, g?V]
	1-2: [-1865459912, -1674610345, -251161528, 1471040259, -1350893450, -1568507770]
	1-3: null
	1-4: [null, -1577200162, 30386230, -1865459912, -251161528, 1441145265, 952128077, -1350893450]
	1-5: null
FinalState: [59375836, null, -1547190498, null, -1577200162, -1900842932, ., 30386230, 932541340, >, -1865459912, -1674610345, 12145471, -251161528, 1471040259, A?, 1441145265, -1086616634, a, 952128077, 781481182, g?V, -1350893450, -1568507770]
DeadBlock: false

 -- Inferred Result: Result:
Order:[2-0, 2-1, 1-0, 2-2, 2-3, 1-1(B), 2-4, 2-5, 1-1, 1-2, 1-3, 1-4, 1-5]
Query Results:
	2-0: null
	2-1: null
	1-0: null
	2-2: [g?V, -1350893450, -1568507770, 59375836, null, -1547190498, null, -1577200162, -1900842932, ., 30386230, 932541340, >, -1865459912, -1674610345, 12145471, -251161528, 1471040259, A?, 1441145265, -1086616634, a, 952128077, 781481182]
	2-3: [null, -251161528]
	1-1: null
	2-4: [g?V, -1350893450, -1568507770, 59375836, null, -1547190498, null, -1577200162, -1900842932, ., 30386230, 932541340, >, -1865459912, -1674610345, 12145471, -251161528, 1471040259, A?, 1441145265, -1086616634, a, 952128077, 781481182]
	2-5: null
	1-1: [g?V, null, ., >, 12145471, A?, a]
	1-2: [-1865459912, -1674610345, -251161528, 1471040259]
	1-3: null
	1-4: [null, -1577200162, 30386230, -1865459912, -251161528, 1441145265, 952128077]
	1-5: null
FinalState: [g?V, -1350893450, -1568507770, 59375836, null, -1547190498, null, -1577200162, -1900842932, ., 30386230, 932541340, >, -1865459912, -1674610345, 12145471, -251161528, 1471040259, A?, 1441145265, -1086616634, a, 952128077, 781481182]
DeadBlock: false


因隔离级别判断有误导致的误报① 4
-BUG 3 分析有误，事务2SE理论上解决了幻读问题，但是OB好像是不支持？问
02/13 09:52:27.281 INFO troc.TrocChecker main: Check new schedule.
02/13 09:52:35.477 INFO troc.TrocChecker main: txp: 9, all case: 88, skip: 28
02/13 09:52:35.478 INFO troc.TrocChecker main: Error: Inconsistent query result
02/13 09:52:35.478 INFO troc.TrocChecker main: query: SELECT c3, c4, c0, c2 FROM t WHERE 0.8783931359745476
02/13 09:52:35.478 INFO troc.TrocChecker main: =============================BUG REPORT
 -- Create Table SQL: CREATE TABLE t(c0 VARCHAR(3), c1 FLOAT, c2 FLOAT PRIMARY KEY, c3 TEXT, c4 DOUBLE) 
 -- InitializeStatements:
	INSERT INTO t(c3, c0, c2) VALUES ("1338466485", "", 0.05300015178628725);
	INSERT INTO t(c3, c4, c0, c1, c2) VALUES ("0.8657794350497744", 0.148374750659099, "&", 0.05300015178628725, 0.07950610726756291);
	INSERT INTO t(c2) VALUES (0.16419252975959664);
	INSERT IGNORE INTO t(c3, c4, c0, c1, c2) VALUES ("1833610096", 0.21692087723399556, "O", -1.879957178E9, 1.338466485E9);
	INSERT IGNORE INTO t(c4, c0, c2) VALUES (4.9032294E8, "0.7", 0.07950610726756291);
 -- Initial Table: 
View{
	1:[, null, 0.0530002, 1338466485, null]
	2:[&, 0.0530002, 0.0795061, 0.8657794350497744, 0.148374750659099]
	3:[null, null, 0.164193, null, null]
	4:[O, -1.87996006E9, 1.33847002E9, 1833610096, 0.21692087723399556]
}

 -- Tx1: Transaction{1, READ_COMMITTED}, with statements:
	BEGIN;
	SELECT c4, c1, c2 FROM t WHERE c0;
	INSERT INTO t(c3, c1, c2) VALUES ("4?t", 0.80829843558088, 0.38680181236420574);
	SELECT c3, c4 FROM t WHERE c4;
	COMMIT;

 -- Tx2: Transaction{2, SERIALIZABLE}, with statements:
	BEGIN;
	SELECT c3, c0, c1 FROM t WHERE (c1) BETWEEN (NULL) AND ("0.1587119055478572") LOCK IN SHARE MODE;
	SELECT c3, c4, c0, c1, c2 FROM t WHERE -(NULL) LOCK IN SHARE MODE;
	SELECT c3, c4, c0, c2 FROM t WHERE 0.8783931359745476;
	SELECT c1, c2 FROM t WHERE "0?*RQiG]";
	COMMIT;

 -- Input Schedule: 1-2-1-2-1-1-1-2-2-2-2
 -- Submitted Order: [1-0, 2-0, 1-1, 2-1, 1-2, 1-3, 1-4, 2-2, 2-3, 2-4, 2-5]
 -- Execution Result: Result:
Order:[1-0, 2-0, 1-1, 2-1, 1-2, 1-3, 1-4, 2-2, 2-3, 2-4, 2-5]
Query Results:
	1-0: null
	2-0: null
	1-1: []
	2-1: []
	1-2: null
	1-3: [0.8657794350497744, 0.148374750659099, 1833610096, 0.21692087723399556]
	1-4: null
	2-2: []
	2-3: [1338466485, null, , 0.0530002, 0.8657794350497744, 0.148374750659099, &, 0.0795061, null, null, null, 0.164193, 1833610096, 0.21692087723399556, O, 1.33847002E9]
	2-4: []
	2-5: null
FinalState: [, null, 0.0530002, 1338466485, null, &, 0.0530002, 0.0795061, 0.8657794350497744, 0.148374750659099, null, null, 0.164193, null, null, null, 0.808298, 0.386802, 4?t, null, O, -1.87996006E9, 1.33847002E9, 1833610096, 0.21692087723399556]
DeadBlock: false

 -- Inferred Result: Result:
Order:[1-0, 2-0, 1-1, 2-1, 1-2, 1-3, 1-4, 2-2, 2-3, 2-4, 2-5]
Query Results:
	1-0: null
	2-0: null
	1-1: []
	2-1: []
	1-2: null
	1-3: [0.8657794350497744, 0.148374750659099, 1833610096, 0.21692087723399556]
	1-4: null
	2-2: []
	2-3: [1338466485, null, , 0.0530002, 0.8657794350497744, 0.148374750659099, &, 0.0795061, null, null, null, 0.164193, 4?t, null, null, 0.386802, 1833610096, 0.21692087723399556, O, 1.33847002E9]
	2-4: []
	2-5: null
FinalState: [, null, 0.0530002, 1338466485, null, &, 0.0530002, 0.0795061, 0.8657794350497744, 0.148374750659099, null, null, 0.164193, null, null, null, 0.808298, 0.386802, 4?t, null, O, -1.87996006E9, 1.33847002E9, 1833610096, 0.21692087723399556]
DeadBlock: false



因隔离级别判断有误导致的误报① 5
-BUG 4 分析有误，事务2RR不解决幻读
02/15 03:31:49.130 INFO troc.TrocChecker main: Check new schedule.
02/15 03:31:55.961 INFO troc.TrocChecker main: txp: 7, all case: 61, skip: 0
02/15 03:31:55.961 INFO troc.TrocChecker main: Error: Inconsistent query result
02/15 03:31:55.961 INFO troc.TrocChecker main: query: SELECT c3, c4, c0, c1, c2 FROM t WHERE c1
02/15 03:31:55.962 INFO troc.TrocChecker main: =============================BUG REPORT
 -- Create Table SQL: CREATE TABLE t(c0 DOUBLE, c1 VARCHAR(18), c2 CHAR(20), c3 INT, c4 VARCHAR(11)) 
 -- InitializeStatements:
	INSERT IGNORE INTO t(c3, c0) VALUES (11115638, 0.36473841334316315);
	INSERT IGNORE INTO t(c3, c4, c0, c1, c2) VALUES (883054347, "", 0.5020738424551895, "1105973520", "2");
	INSERT INTO t(c3, c2) VALUES (-737999079, "");
	INSERT IGNORE INTO t(c4, c2) VALUES ("~gp5]", "Zd");
	INSERT IGNORE INTO t(c3, c0, c2) VALUES (1484004284, 0.1243666970532773, "");
 -- Initial Table: 
View{
	1:[0.36473841334316315, null, null, 11115638, null]
	2:[0.5020738424551895, 1105973520, 2, 883054347, ]
	3:[null, null, , -737999079, null]
	4:[null, null, Zd, null, ~gp5]]
	5:[0.1243666970532773, null, , 1484004284, null]
}

 -- Tx1: Transaction{1, REPEATABLE_READ}, with statements:
	BEGIN;
	UPDATE t SET c4="T", c0=0.5993590139950865 WHERE 1151813158;
	UPDATE t SET c3=-1364237463, c4="", c0=0.3269019041337473, c1="|Q1?", c2="0.47735091683257447" WHERE 0.24949637107543277;
	SELECT c4, c0, c1, c2 FROM t WHERE (c4) BETWEEN ((c3) ^ (CAST((c1) AS FLOAT))) AND (CAST((((c3) << (-686816214)) % (c1)) AS CHAR)) FOR UPDATE;
	INSERT INTO t(c4, c0) VALUES ("Y?Y", 0.1717826262973855);
	COMMIT;

 -- Tx2: Transaction{2, REPEATABLE_READ}, with statements:
	BEGIN;
	SELECT c3, c4, c0, c1, c2 FROM t WHERE c1;
	SELECT c4 FROM t WHERE c4 FOR UPDATE;
	SELECT c0 FROM t WHERE 4574627;
	ROLLBACK;

 -- Input Schedule: 1-1-1-2-1-1-1-2-2-2-2
 -- Submitted Order: [1-0, 1-1, 1-2, 2-0, 1-3, 1-4, 1-5, 2-1, 2-2, 2-3, 2-4]
 -- Execution Result: Result:
Order:[1-0, 1-1, 1-2, 2-0, 1-3, 1-4, 1-5, 2-1, 2-2, 2-3, 2-4]
Query Results:
	1-0: null
	1-1: null
	1-2: null
	2-0: null
	1-3: []
	1-4: null
	1-5: null
	2-1: []
	2-2: []
	2-3: [0.3269019041337473, 0.3269019041337473, 0.3269019041337473, 0.3269019041337473, 0.3269019041337473, 0.1717826262973855]
	2-4: null
FinalState: [0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, , 0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, , 0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, , 0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, , 0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, , 0.1717826262973855, null, null, null, Y?Y]
DeadBlock: false

 -- Inferred Result: Result:
Order:[1-0, 1-1, 1-2, 2-0, 1-3, 1-4, 1-5, 2-1, 2-2, 2-3, 2-4]
Query Results:
	1-0: null
	1-1: null
	1-2: null
	2-0: null
	1-3: []
	1-4: null
	1-5: null
	2-1: [883054347, , 0.5020738424551895, 1105973520, 2]
	2-2: []
	2-3: [0.36473841334316315, 0.5020738424551895, null, null, 0.1243666970532773]
	2-4: null
FinalState: [0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, , 0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, , 0.1717826262973855, null, null, null, Y?Y, 0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, , 0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, , 0.3269019041337473, |Q1?, 0.47735091683257447, -1364237463, ]
DeadBlock: false


因隔离级别判断有误导致的误报① 6
-BUG 5 分析有误，事务1RR不保证解决幻读
02/15 09:33:20.233 INFO troc.TrocChecker main: Check new schedule.
02/15 09:33:26.680 INFO troc.TrocChecker main: txp: 23, all case: 226, skip: 6
02/15 09:33:26.680 INFO troc.TrocChecker main: Error: Inconsistent query result
02/15 09:33:26.680 INFO troc.TrocChecker main: query: SELECT c1 FROM t WHERE 1063591626
02/15 09:33:26.681 INFO troc.TrocChecker main: =============================BUG REPORT
 -- Create Table SQL: CREATE TABLE t(c0 FLOAT, c1 DOUBLE, c2 DOUBLE) COMMENT = 'comment info'
 -- InitializeStatements:
	INSERT IGNORE INTO t(c1, c2) VALUES (5.83912642E8, 0.5121482001394068);
	INSERT INTO t(c1, c2) VALUES (0.6483843334468649, 0.2684873846989765);
	INSERT IGNORE INTO t(c1) VALUES (0.45661352709132774);
	INSERT IGNORE INTO t(c1, c2) VALUES (0.6554251708170244, 0.47271403534326106);
	INSERT INTO t(c1) VALUES (0.7583403303072438);
	INSERT IGNORE INTO t(c0, c1, c2) VALUES (-1.824111127E9, -1.824111127E9, 0.06266379949999334);
 -- Initial Table: 
View{
	1:[null, 5.83912642E8, 0.5121482001394068]
	2:[null, 0.6483843334468649, 0.2684873846989765]
	3:[null, 0.45661352709132774, null]
	4:[null, 0.6554251708170244, 0.47271403534326106]
	5:[null, 0.7583403303072438, null]
	6:[-1.82410995E9, -1.824111127E9, 0.06266379949999334]
}

 -- Tx1: Transaction{1, REPEATABLE_READ}, with statements:
	BEGIN;
	SELECT c1 FROM t WHERE 1063591626;
	SELECT c0, c1, c2 FROM t WHERE -210098496;
	SELECT c0, c1, c2 FROM t WHERE ((LENGTH((c0))) * ("")) <= ((c2) / (1961608862));
	SELECT c1, c2 FROM t WHERE c2;
	ROLLBACK;

 -- Tx2: Transaction{2, REPEATABLE_READ}, with statements:
	BEGIN;
	INSERT INTO t(c0, c1) VALUES (0.5093745025107455, -1.987917167E9);
	SELECT c0, c1, c2 FROM t WHERE (!(0.16639260845705028)) OR (0.6021999078748033) FOR UPDATE;
	SELECT c1 FROM t WHERE "S^";
	SELECT c0, c1, c2 FROM t WHERE c0;
	COMMIT;

 -- Input Schedule: 2-2-2-1-2-2-2-1-1-1-1-1
 -- Submitted Order: [2-0, 2-1, 2-2, 1-0, 2-3, 2-4, 2-5, 1-1, 1-2, 1-3, 1-4, 1-5]
 -- Execution Result: Result:
Order:[2-0, 2-1, 2-2, 1-0, 2-3, 2-4, 2-5, 1-1, 1-2, 1-3, 1-4, 1-5]
Query Results:
	2-0: null
	2-1: null
	2-2: [null, 5.83912642E8, 0.5121482001394068, null, 0.6483843334468649, 0.2684873846989765, null, 0.45661352709132774, null, null, 0.6554251708170244, 0.47271403534326106, null, 0.7583403303072438, null, -1.82410995E9, -1.824111127E9, 0.06266379949999334, 0.509374, -1.987917167E9, null]
	1-0: null
	2-3: []
	2-4: [-1.82410995E9, -1.824111127E9, 0.06266379949999334, 0.509374, -1.987917167E9, null]
	2-5: null
	1-1: [5.83912642E8, 0.6483843334468649, 0.45661352709132774, 0.6554251708170244, 0.7583403303072438, -1.824111127E9, -1.987917167E9]
	1-2: [null, 5.83912642E8, 0.5121482001394068, null, 0.6483843334468649, 0.2684873846989765, null, 0.45661352709132774, null, null, 0.6554251708170244, 0.47271403534326106, null, 0.7583403303072438, null, -1.82410995E9, -1.824111127E9, 0.06266379949999334, 0.509374, -1.987917167E9, null]
	1-3: [-1.82410995E9, -1.824111127E9, 0.06266379949999334]
	1-4: [5.83912642E8, 0.5121482001394068, 0.6483843334468649, 0.2684873846989765, 0.6554251708170244, 0.47271403534326106, -1.824111127E9, 0.06266379949999334]
	1-5: null
FinalState: [null, 5.83912642E8, 0.5121482001394068, null, 0.6483843334468649, 0.2684873846989765, null, 0.45661352709132774, null, null, 0.6554251708170244, 0.47271403534326106, null, 0.7583403303072438, null, -1.82410995E9, -1.824111127E9, 0.06266379949999334, 0.509374, -1.987917167E9, null]
DeadBlock: false

 -- Inferred Result: Result:
Order:[2-0, 2-1, 2-2, 1-0, 2-3, 2-4, 2-5, 1-1, 1-2, 1-3, 1-4, 1-5]
Query Results:
	2-0: null
	2-1: null
	2-2: [null, 5.83912642E8, 0.5121482001394068, null, 0.6483843334468649, 0.2684873846989765, null, 0.45661352709132774, null, null, 0.6554251708170244, 0.47271403534326106, null, 0.7583403303072438, null, -1.82410995E9, -1.824111127E9, 0.06266379949999334, 0.509374, -1.987917167E9, null]
	1-0: null
	2-3: []
	2-4: [-1.82410995E9, -1.824111127E9, 0.06266379949999334, 0.509374, -1.987917167E9, null]
	2-5: null
	1-1: [5.83912642E8, 0.6483843334468649, 0.45661352709132774, 0.6554251708170244, 0.7583403303072438, -1.824111127E9]
	1-2: [null, 5.83912642E8, 0.5121482001394068, null, 0.6483843334468649, 0.2684873846989765, null, 0.45661352709132774, null, null, 0.6554251708170244, 0.47271403534326106, null, 0.7583403303072438, null, -1.82410995E9, -1.824111127E9, 0.06266379949999334]
	1-3: [-1.82410995E9, -1.824111127E9, 0.06266379949999334]
	1-4: [5.83912642E8, 0.5121482001394068, 0.6483843334468649, 0.2684873846989765, 0.6554251708170244, 0.47271403534326106, -1.824111127E9, 0.06266379949999334]
	1-5: null
FinalState: [null, 5.83912642E8, 0.5121482001394068, null, 0.6483843334468649, 0.2684873846989765, null, 0.45661352709132774, null, null, 0.6554251708170244, 0.47271403534326106, null, 0.7583403303072438, null, -1.82410995E9, -1.824111127E9, 0.06266379949999334, 0.509374, -1.987917167E9, null]
DeadBlock: false



因隔离级别判断有误导致的误报③ 13
-BUG 6 分析有误，事务2-1第一次执行挂了，后面2-2是新开的事务进行执行，快照点不对
02/15 12:49:41.145 INFO troc.TrocChecker main: Check new schedule.
02/15 12:49:43.400 INFO troc.TxnPairExecutor Thread-2496: 2-1: time out
02/15 12:49:53.939 INFO troc.TrocChecker main: txp: 84, all case: 833, skip: 10
02/15 12:49:53.939 INFO troc.TrocChecker main: Error: Inconsistent query result
02/15 12:49:53.939 INFO troc.TrocChecker main: query: SELECT c0, c1 FROM t WHERE c1
02/15 12:49:53.940 INFO troc.TrocChecker main: =============================BUG REPORT
 -- Create Table SQL: CREATE TABLE t(c0 TEXT, c1 DOUBLE, c2 INT, c3 DOUBLE) 
 -- InitializeStatements:
	INSERT INTO t(c0, c1) VALUES ("R<", 0.7526998229619486);
	INSERT INTO t(c3) VALUES (0.1734972110664561);
	INSERT INTO t(c3, c0, c1, c2) VALUES (0.08081359068322713, "lc", 0.9712376443650775, -481912631);
	INSERT INTO t(c0, c1, c2) VALUES ("1722013599", 0.5944378841667787, 300945250);
	INSERT IGNORE INTO t(c0, c1, c2) VALUES ("v4H?PI*67", 0.2953326638214152, -901679249);
	INSERT IGNORE INTO t(c3) VALUES (0.039462557580277946);
	INSERT INTO t(c3, c0, c1, c2) VALUES (0.0794640856466684, "P[eRH??", 0.21868739066440834, -725630115);
	INSERT IGNORE INTO t(c3) VALUES (0.8839364235754392);
	INSERT IGNORE INTO t(c0, c1, c2) VALUES ("", 0.5642125299800148, -728849591);
 -- Initial Table: 
View{
	1:[R<, 0.7526998229619486, null, null]
	2:[null, null, null, 0.1734972110664561]
	3:[lc, 0.9712376443650775, -481912631, 0.08081359068322713]
	4:[1722013599, 0.5944378841667787, 300945250, null]
	5:[v4H?PI*67, 0.2953326638214152, -901679249, null]
	6:[null, null, null, 0.039462557580277946]
	7:[P[eRH??, 0.21868739066440834, -725630115, 0.0794640856466684]
	8:[null, null, null, 0.8839364235754392]
	9:[, 0.5642125299800148, -728849591, null]
}

 -- Tx1: Transaction{1, REPEATABLE_READ}, with statements:
	BEGIN;
	UPDATE t SET c3=0.10029255666559367, c1=0.2246592439509204 WHERE c1;
	SELECT c3, c0, c1, c2 FROM t WHERE "-1925548939" FOR UPDATE;
	UPDATE t SET c3=1.71221899E9, c0="JZ&v?6" WHERE c2;
	COMMIT;

 -- Tx2: Transaction{2, REPEATABLE_READ}, with statements:
	BEGIN;
	UPDATE t SET c2=286052989 WHERE c2;
	SELECT c0, c1 FROM t WHERE c1;
	SELECT c3 FROM t WHERE c3;
	UPDATE t SET c1=0.9966130896925047, c2=-944977204 WHERE "-1925548939";
	COMMIT;

 -- Input Schedule: 1-2-1-2-2-1-2-1-2-1-2
 -- Submitted Order: [1-0, 2-0, 1-1, 2-1, 2-2, 1-2, 2-3, 1-3, 2-4, 1-4, 2-5]
 -- Execution Result: Result:
Order:[1-0, 2-0, 1-1, 2-1(B), 1-2, 1-3, 1-4, 2-1, 2-2, 2-3, 2-4, 2-5]
Query Results:
	1-0: null
	2-0: null
	1-1: null
	2-1: null
	1-2: [0.10029255666559367, R<, 0.2246592439509204, null, 0.1734972110664561, null, null, null, 0.10029255666559367, lc, 0.2246592439509204, -481912631, 0.10029255666559367, 1722013599, 0.2246592439509204, 300945250, 0.10029255666559367, v4H?PI*67, 0.2246592439509204, -901679249, 0.039462557580277946, null, null, null, 0.10029255666559367, P[eRH??, 0.2246592439509204, -725630115, 0.8839364235754392, null, null, null, 0.10029255666559367, , 0.2246592439509204, -728849591]
	1-3: null
	1-4: null
	2-1: null
	2-2: [R<, 0.2246592439509204, JZ&v?6, 0.2246592439509204, JZ&v?6, 0.2246592439509204, JZ&v?6, 0.2246592439509204, JZ&v?6, 0.2246592439509204, JZ&v?6, 0.2246592439509204]
	2-3: [0.10029255666559367, 0.1734972110664561, 1.71221899E9, 1.71221899E9, 1.71221899E9, 0.039462557580277946, 1.71221899E9, 0.8839364235754392, 1.71221899E9]
	2-4: null
	2-5: null
FinalState: [R<, 0.9966130896925047, -944977204, 0.10029255666559367, null, 0.9966130896925047, -944977204, 0.1734972110664561, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9, null, 0.9966130896925047, -944977204, 0.039462557580277946, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9, null, 0.9966130896925047, -944977204, 0.8839364235754392, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9]
DeadBlock: false

 -- Inferred Result: Result:
Order:[1-0, 2-0, 1-1, 2-1(B), 1-2, 1-3, 1-4, 2-1, 2-2, 2-3, 2-4, 2-5]
Query Results:
	1-0: null
	2-0: null
	1-1: null
	2-1: null
	1-2: [0.10029255666559367, R<, 0.2246592439509204, null, 0.1734972110664561, null, null, null, 0.10029255666559367, lc, 0.2246592439509204, -481912631, 0.10029255666559367, 1722013599, 0.2246592439509204, 300945250, 0.10029255666559367, v4H?PI*67, 0.2246592439509204, -901679249, 0.039462557580277946, null, null, null, 0.10029255666559367, P[eRH??, 0.2246592439509204, -725630115, 0.8839364235754392, null, null, null, 0.10029255666559367, , 0.2246592439509204, -728849591]
	1-3: null
	1-4: null
	2-1: null
	2-2: [R<, 0.7526998229619486, JZ&v?6, 0.2246592439509204, JZ&v?6, 0.2246592439509204, JZ&v?6, 0.2246592439509204, JZ&v?6, 0.2246592439509204, JZ&v?6, 0.2246592439509204]
	2-3: [0.1734972110664561, 1.71221899E9, 1.71221899E9, 1.71221899E9, 0.039462557580277946, 1.71221899E9, 0.8839364235754392, 1.71221899E9]
	2-4: null
	2-5: null
FinalState: [R<, 0.9966130896925047, -944977204, 0.10029255666559367, null, 0.9966130896925047, -944977204, 0.1734972110664561, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9, null, 0.9966130896925047, -944977204, 0.039462557580277946, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9, null, 0.9966130896925047, -944977204, 0.8839364235754392, JZ&v?6, 0.9966130896925047, -944977204, 1.71221899E9]
DeadBlock: false



因隔离级别判断有误导致的误报③ 14
-BUG 7 分析有误，事务2-1挂了一次，2-2快照点不对
02/16 00:40:01.416 INFO troc.TrocChecker main: Check new schedule.
02/16 00:40:03.569 INFO troc.TxnPairExecutor Thread-162: 2-1: time out
02/16 00:40:11.517 INFO troc.TrocChecker main: txp: 6, all case: 55, skip: 0
02/16 00:40:11.517 INFO troc.TrocChecker main: Error: Inconsistent query result
02/16 00:40:11.517 INFO troc.TrocChecker main: query: SELECT c0 FROM t WHERE 0.8853789629765159
02/16 00:40:11.518 INFO troc.TrocChecker main: =============================BUG REPORT
 -- Create Table SQL: CREATE TABLE t(c0 INT) 
 -- InitializeStatements:
	INSERT IGNORE INTO t(c0) VALUES (-1312065798);
	INSERT IGNORE INTO t(c0) VALUES (671525307);
	INSERT IGNORE INTO t(c0) VALUES (1000856114);
	INSERT IGNORE INTO t(c0) VALUES (-1400764542);
	INSERT IGNORE INTO t(c0) VALUES (-2105649712);
	INSERT INTO t(c0) VALUES (-204173261);
	INSERT IGNORE INTO t(c0) VALUES (1590538244);
	INSERT INTO t(c0) VALUES (-1806567349);
 -- Initial Table: 
View{
	1:[-1312065798]
	2:[671525307]
	3:[1000856114]
	4:[-1400764542]
	5:[-2105649712]
	6:[-204173261]
	7:[1590538244]
	8:[-1806567349]
}

 -- Tx1: Transaction{1, REPEATABLE_READ}, with statements:
	BEGIN;
	UPDATE t SET c0=1230377929 WHERE 0.7953881472498021;
	INSERT INTO t(c0) VALUES (-212837823);
	UPDATE t SET c0=-1989882799 WHERE c0;
	COMMIT;

 -- Tx2: Transaction{2, REPEATABLE_READ}, with statements:
	BEGIN;
	SELECT c0 FROM t WHERE c0 FOR UPDATE;
	SELECT c0 FROM t WHERE 0.8853789629765159;
	INSERT IGNORE INTO t(c0) VALUES (-1835504825);
	SELECT c0 FROM t WHERE 1225829394 FOR UPDATE;
	ROLLBACK;

 -- Input Schedule: 2-1-1-1-1-2-1-2-2-2-2
 -- Submitted Order: [2-0, 1-0, 1-1, 1-2, 1-3, 2-1, 1-4, 2-2, 2-3, 2-4, 2-5]
 -- Execution Result: Result:
Order:[2-0, 1-0, 1-1, 1-2, 1-3, 2-1(B), 1-4, 2-1, 2-2, 2-3, 2-4, 2-5]
Query Results:
	2-0: null
	1-0: null
	1-1: null
	1-2: null
	1-3: null
	2-1: null
	1-4: null
	2-1: [-1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799]
	2-2: [-1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799]
	2-3: null
	2-4: [-1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1835504825]
	2-5: null
FinalState: [-1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799]
DeadBlock: false

 -- Inferred Result: Result:
Order:[2-0, 1-0, 1-1, 1-2, 1-3, 2-1(B), 1-4, 2-1, 2-2, 2-3, 2-4, 2-5]
Query Results:
	2-0: null
	1-0: null
	1-1: null
	1-2: null
	1-3: null
	2-1: null
	1-4: null
	2-1: [-1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799]
	2-2: [-1312065798, 671525307, 1000856114, -1400764542, -2105649712, -204173261, 1590538244, -1806567349]
	2-3: null
	2-4: [-1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1835504825]
	2-5: null
FinalState: [-1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799, -1989882799]
DeadBlock: false